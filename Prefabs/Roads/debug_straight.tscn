[gd_scene load_steps=18 format=3 uid="uid://bfe2n5yc1ofd5"]

[ext_resource type="MeshLibrary" uid="uid://cv1supg7fxwgm" path="res://Assets/Models/Mesh Libraries/New Streets.tres" id="1_tdahm"]
[ext_resource type="Script" path="res://Prefabs/Roads/road_segment.gd" id="2_0313u"]
[ext_resource type="MeshLibrary" uid="uid://wwiits5ma1sj" path="res://Assets/Models/Mesh Libraries/Floors.tres" id="2_mgofo"]
[ext_resource type="Texture2D" uid="uid://crbxck5vtpqa4" path="res://Assets/Textures/Tree_wall.png" id="5_ibnvc"]
[ext_resource type="Script" path="res://Prefabs/Debris/debris_location.gd" id="6_ccqnw"]
[ext_resource type="PackedScene" uid="uid://gq811rsmjlhl" path="res://Prefabs/Debris/debris_2.tscn" id="7_ohs5y"]
[ext_resource type="PackedScene" uid="uid://cmk8hsh2rcdkm" path="res://Prefabs/Buildings/lamp_post.tscn" id="8_n4k46"]

[sub_resource type="Curve3D" id="Curve3D_5u1vu"]
_data = {
"points": PackedVector3Array(0, 0, 0, 0, 0, 0, 0.539585, 0.551673, -0.0355971, 0, 0, 0, 0, 0, 0, 0.514456, 0.551673, -15.9936),
"tilts": PackedFloat32Array(0, 0)
}
point_count = 2

[sub_resource type="BoxShape3D" id="BoxShape3D_hs440"]
size = Vector3(33.7588, 5.26257, 1)

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_ldlsn"]
transparency = 1
albedo_texture = ExtResource("5_ibnvc")
uv1_scale = Vector3(6, 1, 1)

[sub_resource type="QuadMesh" id="QuadMesh_sasok"]
material = SubResource("StandardMaterial3D_ldlsn")
size = Vector2(18, 1)

[sub_resource type="BoxShape3D" id="BoxShape3D_yesdx"]
size = Vector3(1, 4.8252, 18)

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_pgs63"]
transparency = 1
albedo_texture = ExtResource("5_ibnvc")
uv1_scale = Vector3(6, 1, 1)

[sub_resource type="QuadMesh" id="QuadMesh_xbhla"]
material = SubResource("StandardMaterial3D_pgs63")
size = Vector2(18, 1)

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_7tf65"]
transparency = 1
albedo_texture = ExtResource("5_ibnvc")
uv1_scale = Vector3(6, 1, 1)

[sub_resource type="QuadMesh" id="QuadMesh_aorjo"]
material = SubResource("StandardMaterial3D_7tf65")
size = Vector2(18, 1)

[sub_resource type="BoxShape3D" id="BoxShape3D_qhubf"]
size = Vector3(17.8518, 6.13373, 1)

[node name="Debug Straight" type="GridMap" node_paths=PackedStringArray("debris_node")]
mesh_library = ExtResource("1_tdahm")
cell_size = Vector3(1, 1, 1)
data = {
"cells": PackedInt32Array(0, 65535, 1441792, 0, 65534, 1441792, 0, 65533, 1441792, 0, 65531, 1441792, 0, 65529, 1441792, 0, 65527, 1441792, 0, 65523, 1441792, 0, 65522, 1441792, 0, 65521, 1441792, 0, 65520, 1441792, 0, 65528, 1441792, 0, 65525, 1441792, 0, 65524, 1441792, 0, 65526, 1441792, 0, 65532, 1441792, 0, 65530, 1441792)
}
script = ExtResource("2_0313u")
debris_node = NodePath("Debris")
metadata/_editor_floor_ = Vector3(0, 0, 0)

[node name="Exit" type="Marker3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, -16)

[node name="Path3D" type="Path3D" parent="." groups=["road_path"]]
curve = SubResource("Curve3D_5u1vu")

[node name="GridMap" type="GridMap" parent="."]
mesh_library = ExtResource("2_mgofo")
cell_size = Vector3(1, 1, 1)
data = {
"cells": PackedInt32Array(0, 65535, 1441792, 0, 65534, 1441792, 0, 65533, 1441792, 0, 65532, 1441792, 0, 65531, 1441792, 0, 65530, 1441792, 0, 65529, 1441792, 0, 65528, 1441792, 0, 65527, 1441792, 0, 65526, 1441792, 0, 65525, 1441792, 0, 65524, 1441792, 0, 65523, 1441792, 0, 65522, 1441792, 0, 65521, 1441792, 0, 65520, 1441792)
}
metadata/_editor_floor_ = Vector3(0, 0, 0)

[node name="Lamps" type="Node3D" parent="."]

[node name="Lamp_post3" parent="Lamps" instance=ExtResource("8_n4k46")]
transform = Transform3D(-1.31134e-09, 0, 0.03, 0, 0.03, 0, -0.03, 0, -1.31134e-09, -0.148109, 0.495, -5.45224)

[node name="Lamp_post4" parent="Lamps" instance=ExtResource("8_n4k46")]
transform = Transform3D(-1.31134e-09, 0, 0.03, 0, 0.03, 0, -0.03, 0, -1.31134e-09, 1.12889, 0.495, -5.45224)

[node name="Lamp_post7" parent="Lamps" instance=ExtResource("8_n4k46")]
transform = Transform3D(-1.31134e-09, 0, 0.03, 0, 0.03, 0, -0.03, 0, -1.31134e-09, -0.148109, 0.495, -7.62132)

[node name="Lamp_post8" parent="Lamps" instance=ExtResource("8_n4k46")]
transform = Transform3D(-1.31134e-09, 0, 0.03, 0, 0.03, 0, -0.03, 0, -1.31134e-09, 1.12889, 0.495, -7.62132)

[node name="Lamp_post11" parent="Lamps" instance=ExtResource("8_n4k46")]
transform = Transform3D(-1.31134e-09, 0, 0.03, 0, 0.03, 0, -0.03, 0, -1.31134e-09, -0.148109, 0.495, -10.2892)

[node name="Lamp_post12" parent="Lamps" instance=ExtResource("8_n4k46")]
transform = Transform3D(-1.31134e-09, 0, 0.03, 0, 0.03, 0, -0.03, 0, -1.31134e-09, 1.12889, 0.495, -10.2892)

[node name="Lamp_post15" parent="Lamps" instance=ExtResource("8_n4k46")]
transform = Transform3D(-1.31134e-09, 0, 0.03, 0, 0.03, 0, -0.03, 0, -1.31134e-09, -0.148109, 0.495, -12.9867)

[node name="Lamp_post16" parent="Lamps" instance=ExtResource("8_n4k46")]
transform = Transform3D(-1.31134e-09, 0, 0.03, 0, 0.03, 0, -0.03, 0, -1.31134e-09, 1.12889, 0.495, -12.9867)

[node name="Lamp_post19" parent="Lamps" instance=ExtResource("8_n4k46")]
transform = Transform3D(-1.31134e-09, 0, 0.03, 0, 0.03, 0, -0.03, 0, -1.31134e-09, -0.148109, 0.495, -15.0629)

[node name="Lamp_post20" parent="Lamps" instance=ExtResource("8_n4k46")]
transform = Transform3D(-1.31134e-09, 0, 0.03, 0, 0.03, 0, -0.03, 0, -1.31134e-09, 1.12889, 0.495, -15.0629)

[node name="Lamp_post23" parent="Lamps" instance=ExtResource("8_n4k46")]
transform = Transform3D(-1.31134e-09, 0, 0.03, 0, 0.03, 0, -0.03, 0, -1.31134e-09, -0.148109, 0.495, -1.44864)

[node name="Lamp_post24" parent="Lamps" instance=ExtResource("8_n4k46")]
transform = Transform3D(-1.31134e-09, 0, 0.03, 0, 0.03, 0, -0.03, 0, -1.31134e-09, 1.12889, 0.495, -1.44864)

[node name="Lamp_post27" parent="Lamps" instance=ExtResource("8_n4k46")]
transform = Transform3D(-1.31134e-09, 0, 0.03, 0, 0.03, 0, -0.03, 0, -1.31134e-09, -0.148109, 0.495, -3.55204)

[node name="Lamp_post28" parent="Lamps" instance=ExtResource("8_n4k46")]
transform = Transform3D(-1.31134e-09, 0, 0.03, 0, 0.03, 0, -0.03, 0, -1.31134e-09, 1.12889, 0.495, -3.55204)

[node name="Exit Area" type="Area3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, -8.75643)

[node name="CollisionShape3D" type="CollisionShape3D" parent="Exit Area"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 3.0215, 0)
shape = SubResource("BoxShape3D_hs440")

[node name="Boundary" type="Node3D" parent="."]

[node name="Left trees" type="MeshInstance3D" parent="Boundary"]
transform = Transform3D(-4.37114e-08, 0, 1, 0, 1, 0, -1, 0, -4.37114e-08, -14.4798, 0.973994, -7.94238)
mesh = SubResource("QuadMesh_sasok")
skeleton = NodePath("../..")

[node name="Boundary box" type="StaticBody3D" parent="Boundary/Left trees"]
transform = Transform3D(-4.37114e-08, 0, -1, 0, 1, 0, 1, 0, -4.37114e-08, 0.0688138, -0.973994, -1.06203)

[node name="CollisionShape3D" type="CollisionShape3D" parent="Boundary/Left trees/Boundary box"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0.603683, 2.57542, 0)
shape = SubResource("BoxShape3D_yesdx")

[node name="Left trees secondary" type="MeshInstance3D" parent="Boundary"]
transform = Transform3D(-4.37114e-08, 0, 1, 0, 1, 0, -1, 0, -4.37114e-08, -14.6161, 0.973994, -8.28344)
mesh = SubResource("QuadMesh_xbhla")
skeleton = NodePath("../..")

[node name="Right trees" type="MeshInstance3D" parent="Boundary"]
transform = Transform3D(-4.37114e-08, 0, -1, 0, 1, 0, 1, 0, -4.37114e-08, 15.4423, 0.989509, -8.66668)
mesh = SubResource("QuadMesh_aorjo")
skeleton = NodePath("../..")

[node name="StaticBody3D" type="StaticBody3D" parent="Boundary/Right trees"]

[node name="CollisionShape3D" type="CollisionShape3D" parent="Boundary/Right trees/StaticBody3D"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 2.56686, -0.484188)
shape = SubResource("BoxShape3D_qhubf")

[node name="Right trees2" type="MeshInstance3D" parent="Boundary"]
transform = Transform3D(-4.37114e-08, 0, -1, 0, 1, 0, 1, 0, -4.37114e-08, 15.6521, 0.989509, -9.06709)
mesh = SubResource("QuadMesh_aorjo")
skeleton = NodePath("../..")

[node name="Debris" type="Node3D" parent="."]

[node name="Debris 1" type="Node3D" parent="Debris" node_paths=PackedStringArray("small_locations")]
script = ExtResource("6_ccqnw")
accepts_large = false
small_debris = Array[PackedScene]([ExtResource("7_ohs5y")])
small_spawn_chance = 1.0
small_locations = [NodePath("Marker3D")]

[node name="Marker3D" type="Marker3D" parent="Debris/Debris 1"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0.530828, 0.520865, -6.63837)

[connection signal="body_entered" from="Exit Area" to="." method="_on_exit_area_body_entered"]
