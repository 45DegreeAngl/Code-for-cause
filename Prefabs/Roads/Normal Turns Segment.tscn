[gd_scene load_steps=21 format=3 uid="uid://coa1buyxhvtlm"]

[ext_resource type="MeshLibrary" uid="uid://cv1supg7fxwgm" path="res://Assets/Models/Mesh Libraries/New Streets.tres" id="1_l6kl3"]
[ext_resource type="MeshLibrary" uid="uid://wwiits5ma1sj" path="res://Assets/Models/Mesh Libraries/Floors.tres" id="2_i48l3"]
[ext_resource type="Script" path="res://Prefabs/Roads/road_segment.gd" id="2_kta5b"]
[ext_resource type="PackedScene" uid="uid://cmk8hsh2rcdkm" path="res://Prefabs/Buildings/lamp_post.tscn" id="4_l1gr1"]
[ext_resource type="PackedScene" uid="uid://dlibula3h5obv" path="res://Prefabs/Debris/Layouts/default_debris_layout.tscn" id="4_phvpy"]
[ext_resource type="Texture2D" uid="uid://crbxck5vtpqa4" path="res://Assets/Textures/Tree_wall.png" id="5_8pun8"]

[sub_resource type="Curve3D" id="Curve3D_6ce3a"]
_data = {
"points": PackedVector3Array(0, 0, 0, 0, 0, 0, 0.50901, 0.639052, -0.0140014, 0.0418448, -1.38283e-05, 0.811316, -0.0418448, 1.38283e-05, -0.811316, 0.502778, 0.639052, -3.06775, 0.764836, -1.38283e-05, 0.00643682, -0.764836, 1.38283e-05, -0.00643682, -0.805973, 0.639052, -4.551, 0.970208, -1.38283e-05, 0.0449619, -0.970208, 1.38283e-05, -0.0449619, -4.21473, 0.639052, -4.49801, 0.0632672, -1.38283e-05, 0.565031, -0.0632672, 1.38283e-05, -0.565031, -5.48609, 0.639052, -5.73197, -0.106102, -1.38283e-05, 0.790561, 0.106102, 1.38283e-05, -0.790561, -5.44485, 0.639052, -8.4836, -0.849354, -1.38283e-05, 0.0319872, 0.849354, 1.38283e-05, -0.0319872, -4.04262, 0.639052, -9.55553, -0.0137076, -1.38283e-05, -0.477604, 0.0137076, 1.38283e-05, 0.477604, -2.57183, 0.639052, -7.94763, -0.233819, -1.38283e-05, 0.0134697, 0.233819, 1.38283e-05, -0.0134697, -1.96731, 0.639052, -7.50515, -0.00524712, -1.38283e-05, 0.28615, 0.00524712, 1.38283e-05, -0.28615, -1.5186, 0.639052, -7.99749, 0, 0, 0, 0, 0, 0, -1.49107, 0.639052, -10.999),
"tilts": PackedFloat32Array(0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0)
}
point_count = 11

[sub_resource type="BoxShape3D" id="BoxShape3D_fyx5k"]
size = Vector3(33.7588, 5.26257, 1)

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_ei2od"]
transparency = 1
albedo_texture = ExtResource("5_8pun8")
uv1_scale = Vector3(2.525, 1, 1)

[sub_resource type="QuadMesh" id="QuadMesh_7mypo"]
material = SubResource("StandardMaterial3D_ei2od")
size = Vector2(4.5, 1)

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_umump"]
transparency = 1
albedo_texture = ExtResource("5_8pun8")

[sub_resource type="QuadMesh" id="QuadMesh_wboad"]
material = SubResource("StandardMaterial3D_umump")

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_673d6"]
transparency = 1
albedo_texture = ExtResource("5_8pun8")
uv1_scale = Vector3(1.995, 1, 1)

[sub_resource type="QuadMesh" id="QuadMesh_oqoks"]
material = SubResource("StandardMaterial3D_673d6")
size = Vector2(5, 1)

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_o6rwl"]
transparency = 1
albedo_texture = ExtResource("5_8pun8")

[sub_resource type="QuadMesh" id="QuadMesh_dcs2u"]
material = SubResource("StandardMaterial3D_o6rwl")

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_ugx73"]
transparency = 1
albedo_texture = ExtResource("5_8pun8")
uv1_scale = Vector3(2.265, 1, 1)

[sub_resource type="QuadMesh" id="QuadMesh_dpp3s"]
material = SubResource("StandardMaterial3D_ugx73")
size = Vector2(7, 1)

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_bgop7"]
transparency = 1
albedo_texture = ExtResource("5_8pun8")
uv1_scale = Vector3(2.265, 1, 1)

[sub_resource type="QuadMesh" id="QuadMesh_tdw47"]
material = SubResource("StandardMaterial3D_bgop7")
size = Vector2(6.435, 1)

[node name="Normal Turns Segment" type="GridMap" node_paths=PackedStringArray("debris_node")]
mesh_library = ExtResource("1_l6kl3")
cell_size = Vector3(1, 1, 1)
data = {
"cells": PackedInt32Array(0, 65535, 1441792, 0, 65534, 1441792, 0, 65533, 1441792, 0, 65531, 655383, 65534, 65531, 655360, 65533, 65531, 655360, 65532, 65531, 655360, 65530, 65531, 23, 65530, 65529, 1441792, 65530, 65528, 1441792, 65530, 65526, 1441815, 65533, 65526, 655383, 65533, 65528, 2, 65534, 65528, 1048578, 65534, 65527, 1048576, 65534, 65525, 1048576, 65534, 65526, 1048576)
}
script = ExtResource("2_kta5b")
debris_node = NodePath("Debris")

[node name="Exit" type="Marker3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -2, 0, -11)

[node name="Exit3" type="Marker3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -5.42185, 0, -7.96852)

[node name="Exit4" type="Marker3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -5.42185, 0, -6.33229)

[node name="Exit2" type="Marker3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -2, 0, -9.65156)

[node name="Path3D" type="Path3D" parent="." groups=["road_path"]]
curve = SubResource("Curve3D_6ce3a")

[node name="GridMap" type="GridMap" parent="."]
mesh_library = ExtResource("2_i48l3")
cell_size = Vector3(1, 1, 1)
data = {
"cells": PackedInt32Array(0, 65535, 1441792, 0, 65534, 1441792, 0, 65533, 1441792, 0, 65532, 1441792, 0, 65531, 1441792, 65535, 65531, 1441792, 65535, 65530, 1441792, 65535, 65529, 1441792, 65535, 65528, 1441792, 65535, 65527, 1441792, 65535, 65526, 1441792, 65535, 65525, 1441792)
}
metadata/_editor_floor_ = Vector3(0, 0, 0)

[node name="Debris" type="Node3D" parent="."]

[node name="Debris 1" parent="Debris" instance=ExtResource("4_phvpy")]
transform = Transform3D(-4.37114e-08, 0, 1, 0, 1, 0, -1, 0, -4.37114e-08, -3, 0.5, -4.5)

[node name="Exit Area" type="Area3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, -6.09451)

[node name="CollisionShape3D" type="CollisionShape3D" parent="Exit Area"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 3.0215, 0)
shape = SubResource("BoxShape3D_fyx5k")

[node name="Lampos" type="Node3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, -0.923902)

[node name="Lamp_post33" parent="Lampos" instance=ExtResource("4_l1gr1")]
transform = Transform3D(-1.31134e-09, 0, 0.03, 0, 0.03, 0, -0.03, 0, -1.31134e-09, -0.148109, 0.490817, -0.142532)

[node name="Lamp_post34" parent="Lampos" instance=ExtResource("4_l1gr1")]
transform = Transform3D(-1.31134e-09, 0, 0.03, 0, 0.03, 0, -0.03, 0, -1.31134e-09, 1.12889, 0.490817, -0.142532)

[node name="Lamp_post49" parent="Lampos" instance=ExtResource("4_l1gr1")]
transform = Transform3D(-1.31134e-09, 0, 0.03, 0, 0.03, 0, -0.03, 0, -1.31134e-09, -0.148109, 0.490817, -2.09236)

[node name="Lamp_post50" parent="Lampos" instance=ExtResource("4_l1gr1")]
transform = Transform3D(-1.31134e-09, 0, 0.03, 0, 0.03, 0, -0.03, 0, -1.31134e-09, 1.12889, 0.490817, -2.09236)

[node name="Lamp_post35" parent="Lampos" instance=ExtResource("4_l1gr1")]
transform = Transform3D(-1.31134e-09, 0, 0.03, 0, 0.03, 0, -0.03, 0, -1.31134e-09, -2.1719, 0.490817, -9.78214)

[node name="Lamp_post36" parent="Lampos" instance=ExtResource("4_l1gr1")]
transform = Transform3D(-1.31134e-09, 0, 0.03, 0, 0.03, 0, -0.03, 0, -1.31134e-09, -0.894904, 0.490817, -9.78214)

[node name="Lamp_post44" parent="Lampos" instance=ExtResource("4_l1gr1")]
transform = Transform3D(-1.31134e-09, 0, 0.03, 0, 0.03, 0, -0.03, 0, -1.31134e-09, -6.12606, 0.490817, -6.75065)

[node name="Lamp_post46" parent="Lampos" instance=ExtResource("4_l1gr1")]
transform = Transform3D(-1.31134e-09, 0, 0.03, 0, 0.03, 0, -0.03, 0, -1.31134e-09, -5.58293, 0.490817, -8.63333)

[node name="Lamp_post45" parent="Lampos" instance=ExtResource("4_l1gr1")]
transform = Transform3D(-1.31134e-09, 0, 0.03, 0, 0.03, 0, -0.03, 0, -1.31134e-09, -4.84906, 0.490817, -6.75065)

[node name="Lamp_post47" parent="Lampos" instance=ExtResource("4_l1gr1")]
transform = Transform3D(-1.31134e-09, 0, 0.03, 0, 0.03, 0, -0.03, 0, -1.31134e-09, -6.12606, 0.490817, -5.11442)

[node name="Lamp_post51" parent="Lampos" instance=ExtResource("4_l1gr1")]
transform = Transform3D(-1.31134e-09, 0, 0.03, 0, 0.03, 0, -0.03, 0, -1.31134e-09, -5.87325, 0.490817, -3.73394)

[node name="Lamp_post52" parent="Lampos" instance=ExtResource("4_l1gr1")]
transform = Transform3D(-1.31134e-09, 0, 0.03, 0, 0.03, 0, -0.03, 0, -1.31134e-09, -3.9875, 0.490817, -2.91806)

[node name="Lamp_post53" parent="Lampos" instance=ExtResource("4_l1gr1")]
transform = Transform3D(-1.31134e-09, 0, 0.03, 0, 0.03, 0, -0.03, 0, -1.31134e-09, -3.9875, 0.490817, -4.2857)

[node name="Lamp_post54" parent="Lampos" instance=ExtResource("4_l1gr1")]
transform = Transform3D(-1.31134e-09, 0, 0.03, 0, 0.03, 0, -0.03, 0, -1.31134e-09, -2.77057, 0.490817, -2.91806)

[node name="Lamp_post55" parent="Lampos" instance=ExtResource("4_l1gr1")]
transform = Transform3D(-1.31134e-09, 0, 0.03, 0, 0.03, 0, -0.03, 0, -1.31134e-09, -2.77057, 0.490817, -4.2857)

[node name="Lamp_post56" parent="Lampos" instance=ExtResource("4_l1gr1")]
transform = Transform3D(-1.31134e-09, 0, 0.03, 0, 0.03, 0, -0.03, 0, -1.31134e-09, -1.31298, 0.490817, -2.91806)

[node name="Lamp_post57" parent="Lampos" instance=ExtResource("4_l1gr1")]
transform = Transform3D(-1.31134e-09, 0, 0.03, 0, 0.03, 0, -0.03, 0, -1.31134e-09, -1.31298, 0.490817, -4.2857)

[node name="Lamp_post58" parent="Lampos" instance=ExtResource("4_l1gr1")]
transform = Transform3D(-1.31134e-09, 0, 0.03, 0, 0.03, 0, -0.03, 0, -1.31134e-09, 0.628165, 0.490817, -3.66092)

[node name="Lamp_post48" parent="Lampos" instance=ExtResource("4_l1gr1")]
transform = Transform3D(-1.31134e-09, 0, 0.03, 0, 0.03, 0, -0.03, 0, -1.31134e-09, -4.84906, 0.490817, -5.11442)

[node name="Lamp_post37" parent="Lampos" instance=ExtResource("4_l1gr1")]
transform = Transform3D(-1.31134e-09, 0, 0.03, 0, 0.03, 0, -0.03, 0, -1.31134e-09, -2.1719, 0.490817, -8.4337)

[node name="Lamp_post38" parent="Lampos" instance=ExtResource("4_l1gr1")]
transform = Transform3D(-1.31134e-09, 0, 0.03, 0, 0.03, 0, -0.03, 0, -1.31134e-09, -0.894904, 0.490817, -8.4337)

[node name="Lamp_post39" parent="Lampos" instance=ExtResource("4_l1gr1")]
transform = Transform3D(-1.31134e-09, 0, 0.03, 0, 0.03, 0, -0.03, 0, -1.31134e-09, -0.894904, 0.490817, -7.20404)

[node name="Lamp_post40" parent="Lampos" instance=ExtResource("4_l1gr1")]
transform = Transform3D(-1.31134e-09, 0, 0.03, 0, 0.03, 0, -0.03, 0, -1.31134e-09, -1.19289, 0.490817, -6.29667)

[node name="Lamp_post41" parent="Lampos" instance=ExtResource("4_l1gr1")]
transform = Transform3D(-1.31134e-09, 0, 0.03, 0, 0.03, 0, -0.03, 0, -1.31134e-09, -2.53065, 0.490817, -6.07771)

[node name="Lamp_post42" parent="Lampos" instance=ExtResource("4_l1gr1")]
transform = Transform3D(-1.31134e-09, 0, 0.03, 0, 0.03, 0, -0.03, 0, -1.31134e-09, -3.90948, 0.490817, -7.90817)

[node name="Lamp_post43" parent="Lampos" instance=ExtResource("4_l1gr1")]
transform = Transform3D(-1.31134e-09, 0, 0.03, 0, 0.03, 0, -0.03, 0, -1.31134e-09, -3.90948, 0.490817, -9.1763)

[node name="Boundary" type="Node3D" parent="."]

[node name="CSGBox3D" type="CSGBox3D" parent="Boundary"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -16.9862, 2.02759, -7.52397)
visible = false
use_collision = true
size = Vector3(2.88428, 5.05518, 8.13867)

[node name="CSGBox3D2" type="CSGBox3D" parent="Boundary"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 15.6047, 1.84125, -8.18391)
visible = false
use_collision = true
size = Vector3(2.32666, 4.6825, 6.5)

[node name="CSGBox3D3" type="CSGBox3D" parent="Boundary"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 16.5576, 1.6933, -2.52179)
visible = false
use_collision = true
size = Vector3(2.07617, 4.3866, 4.96094)

[node name="CSGBox3D4" type="CSGBox3D" parent="Boundary"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -15.1886, 1.823, -1.96073)
visible = false
use_collision = true
size = Vector3(1.42297, 4.646, 4.38867)

[node name="MeshInstance3D" type="MeshInstance3D" parent="Boundary"]
transform = Transform3D(-4.37114e-08, 0, 1, 0, 1, 0, -1, 0, -4.37114e-08, -14.4717, 0.974808, -2.03277)
mesh = SubResource("QuadMesh_7mypo")

[node name="MeshInstance3D2" type="MeshInstance3D" parent="Boundary"]
transform = Transform3D(-1, 0, -8.74228e-08, 0, 1, 0, 8.74228e-08, 0, -1, -14.9816, 0.994905, -4.19794)
mesh = SubResource("QuadMesh_wboad")

[node name="MeshInstance3D3" type="MeshInstance3D" parent="Boundary"]
transform = Transform3D(-4.37114e-08, 0, -1, 0, 1, 0, 1, 0, -4.37114e-08, 15.4867, 0.982018, -2.52181)
mesh = SubResource("QuadMesh_oqoks")

[node name="MeshInstance3D4" type="MeshInstance3D" parent="Boundary"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 14.9636, 0.995741, -4.91856)
mesh = SubResource("QuadMesh_dcs2u")

[node name="MeshInstance3D5" type="MeshInstance3D" parent="Boundary"]
transform = Transform3D(-4.37114e-08, 0, 1, 0, 1, 0, -1, 0, -4.37114e-08, -15.4825, 0.987942, -7.56126)
mesh = SubResource("QuadMesh_dpp3s")

[node name="MeshInstance3D6" type="MeshInstance3D" parent="Boundary"]
transform = Transform3D(-4.37114e-08, 0, -1, 0, 1, 0, 1, 0, -4.37114e-08, 14.4363, 0.989086, -8.17327)
mesh = SubResource("QuadMesh_tdw47")

[connection signal="body_entered" from="Exit Area" to="." method="_on_exit_area_body_entered"]
